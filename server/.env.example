# ===========================================
# BRUTE Server Environment Variables
# ===========================================
# Copy this file to .env and fill in your values
# Never commit the .env file to version control!

# ------------------------------------------
# JWT Authentication
# ------------------------------------------
# Secret key for JWT token signing (use a long random string)
JWT_SECRET=your-super-secret-jwt-key-here-change-this

# ------------------------------------------
# Stripe Payment Integration
# ------------------------------------------
# Get your keys from: https://dashboard.stripe.com/test/apikeys
# IMPORTANT: Test keys start with sk_test_
# IMPORTANT: If you get "api_key_expired" error, generate a NEW key from Stripe Dashboard

# Your Stripe Secret Key (test mode)
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key_here

# Your Stripe Price ID for subscriptions
STRIPE_PRICE_ID=price_your_stripe_price_id_here

# Stripe Webhook Secret (REQUIRED for subscriptions to activate!)
# Get this when you create a webhook endpoint or use Stripe CLI:
#   stripe listen --forward-to localhost:4242/webhook
# Copy the whsec_... value that appears in the output
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret_here

# ------------------------------------------
# Application URLs
# ------------------------------------------
# Frontend URL for Stripe redirects
CLIENT_URL=http://localhost:5173

# ------------------------------------------
# Database
# ------------------------------------------
# Prisma database connection (defaults to SQLite in development)
DATABASE_URL=file:./prisma/dev.db

# ------------------------------------------
# Email Service (Optional)
# ------------------------------------------
# Resend API Key for sending emails
RESEND_API_KEY=your_resend_api_key_here

# Email sender address
EMAIL_FROM=noreply@yourdomain.com

# ------------------------------------------
# TROUBLESHOOTING
# ------------------------------------------
# If you see "api_key_expired" error:
# 1. Go to https://dashboard.stripe.com/test/apikeys
# 2. Click "Create secret key" to generate a NEW key
# 3. Copy the new key and update STRIPE_SECRET_KEY above
# 4. Restart the server: npm run dev
#
# If Stripe CLI webhook fails:
# - Make sure your STRIPE_SECRET_KEY is up to date
# - Run: stripe login (to re-authenticate)
# - Run: stripe listen --forward-to localhost:4242/webhook
